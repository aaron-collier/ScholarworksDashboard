<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Scholarworks Dashboard</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    
    <!-- ///////////////////////////////////////////////// -->
    <!-- D3 Visualization Library -->
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="js/d3pie.min.js"></script>
    <!--  USING D3 -->
    <script>

		function draw(data) {
			d3.select("body")
				.data(data)
				.enter()
				.append("svg")
					.attr("width", function(d) { 25 } )
					.attr("height", function(d) { 25 } )
					.append("circle")
					.attr("cx", 25)
					.attr("cy", 25)
					.attr("r", function(d) { return d.count })
					.style("fill", "purple");
		}

	</script>
    
    <!-- ///////////////////////////////////////////////// -->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Scholarworks Dashboard</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#">Dashboard</a></li>
            <li><a href="#">Settings</a></li>
            <li><a href="#">Profile</a></li>
            <li><a href="#">Help/Wiki</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#">Overview</a></li>
            <li><a href="#">Reports</a></li>
            <li><a href="stats.html">Analytics</a></li>
            <li><a href="#">Export</a></li>
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item</a></li>
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
            <li><a href="">More navigation</a></li>
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <h1 class="page-header">Scholarworks Analytics Dashboard</h1>

          <div class="row placeholders">
          	<!--  NOTHING HERE FOR NOW -->
          </div>

          <h2 class="sub-header">Statistics Visualization</h2>
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Community Views</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>

<div id="pieChart"></div>

<script>

var pieChartData = {};
pieChartData["header"] = {
		"title": {
			"text": "Lots of Programming Languages",
			"fontSize": 24,
			"font": "open sans"
		},
		"subtitle": {
			"text": "A full pie chart to show off label collision detection and resolution.",
			"color": "#999999",
			"fontSize": 12,
			"font": "open sans"
		},
		"titleSubtitlePadding": 9
	};
pieChartData["footer"] = {
		"color": "#999999",
		"fontSize": 10,
		"font": "open sans",
		"location": "bottom-left"
	};
pieChartData["size"] = {
		"canvasWidth": 590
};
pieChartData["data"] = {
		"sortOrder": "value-desc"
};
pieChartData["data"]["content"] = [{
		"label": "JavaScript",
		"value": 264131,
		"color": "#2484c1"
	},
	{
		"label": "Ruby",
		"value": 218812,
		"color": "#0c6197"
	},
	{
		"label": "Java",
		"value": 157618,
		"color": "#4daa4b"
	},
	{
		"label": "PHP",
		"value": 114384,
		"color": "#90c469"
	},
	{
		"label": "Python",
		"value": 95002,
		"color": "#daca61"
	},
	{
		"label": "C+",
		"value": 78327,
		"color": "#e4a14b"
	},
	{
		"label": "C",
		"value": 67706,
		"color": "#e98125"
	},
	{
		"label": "Objective-C",
		"value": 36344,
		"color": "#cb2121"
	},
	{
		"label": "Shell",
		"value": 28561,
		"color": "#830909"
	},
	{
		"label": "Cobol",
		"value": 24131,
		"color": "#923e99"
	},
	{
		"label": "C#",
		"value": 100,
		"color": "#ae83d5"
	},
	{
		"label": "Coldfusion",
		"value": 68,
		"color": "#bf273e"
	},
	{
		"label": "Fortran",
		"value": 218812,
		"color": "#ce2aeb"
	},
	{
		"label": "Coffeescript",
		"value": 157618,
		"color": "#bca44a"
	},
	{
		"label": "Node",
		"value": 114384,
		"color": "#618d1b"
	},
	{
		"label": "Basic",
		"value": 95002,
		"color": "#1ee67b"
	},
	{
		"label": "Cola",
		"value": 36344,
		"color": "#b0ec44"
	},
	{
		"label": "Perl",
		"value": 32170,
		"color": "#a4a0c9"
	},
	{
		"label": "Dart",
		"value": 28561,
		"color": "#322849"
	},
	{
		"label": "Go",
		"value": 264131,
		"color": "#86f71a"
	},
	{
		"label": "Groovy",
		"value": 218812,
		"color": "#d1c87f"
	},
	{
		"label": "Processing",
		"value": 157618,
		"color": "#7d9058"
	},
	{
		"label": "Smalltalk",
		"value": 114384,
		"color": "#44b9b0"
	},
	{
		"label": "Scala",
		"value": 95002,
		"color": "#7c37c0"
	},
	{
		"label": "Visual Basic",
		"value": 78327,
		"color": "#cc9fb1"
	},
	{
		"label": "Scheme",
		"value": 67706,
		"color": "#e65414"
	},
	{
		"label": "Rust",
		"value": 36344,
		"color": "#8b6834"
	},
	{
		"label": "FoxPro",
		"value": 32170,
		"color": "#248838"
	}];
pieChartData["labels"] = {
		"outer": {
			"pieDistance": 32
		},
		"inner": {
			"hideWhenLessThanPercentage": 3
		},
		"mainLabel": {
			"fontSize": 11
		},
		"percentage": {
			"color": "#ffffff",
			"decimalPlaces": 0
		},
		"value": {
			"color": "#adadad",
			"fontSize": 11
		},
		"lines": {
			"enabled": true
		}
	};

pieChartData["effects"] = {
		"pullOutSegmentOnClick": {
			"effect": "linear",
			"speed": 400,
			"size": 8
		}
	};
pieChartData["misc"] = 	{
		"gradient": {
			"enabled": true,
			"percentage": 100
		}
	};
	
console.log(pieChartData);

$.getJSON('http://scholarworks.calstate.edu/portal/api/facet/json/type_keyword', function(data){
	$.each(data.campus, function(i, item){
	});
});
	
var pie = new d3pie("pieChart", pieChartData);
</script>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>
